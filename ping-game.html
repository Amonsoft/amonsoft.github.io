<!Doctype html>
<html>
<head>
    
</head>

<body>

<canvas id="canvas" width="600" height="600" style="background:#000" ></canvas>
    <script>
    var canvas = document.getElementById("canvas");
        var ctx = canvas.getContext("2d");
        var ping1height =100;
        var ping2height =200;
         var ping1width =2;
        var ping2width =592;
        var dx = 2 * Math.random();
        var dy = 2* Math.random().toPrecision(1);
        var leftPressed, rightPressed;
            var leftPressed2, rightPressed2;
        var ballX= 50 ;
        var ballY= 20;
     
        
        function drawPing(){
            ctx.beginPath();
            ctx.rect(ping1width,ping1height,5,50);
            ctx.fillStyle = "#0095DD";  
            ctx.fill();
            ctx.closePath();
            
        }
           function drawPing2(){
            ctx.beginPath();
            ctx.rect(ping2width,ping2height,5,50);
            ctx.fillStyle = "#0095DD";  
            ctx.fill();
            ctx.closePath();
            
        }
           var ballRadius = 10;
       function drawPingball(){
            ctx.beginPath();
            ctx.arc(ballX,ballY,10,10,Math.PI*2,true);
            ctx.fillStyle = "#0095DD";  
            ctx.fill();
            ctx.closePath();
            
        }
        
            function collisionDetection() {
             if(ballX < ping1width+ballRadius || ballY < ping1width ){
                //dy = -dy;
              console.log("dectected");
                   
            }
                  }
       
        
        function rungame(){
         ctx.clearRect(0,0,canvas.width,canvas.height);
            
            console.log("david is a fool");
            document.addEventListener("keydown",keyDownHandler,false);
        document.addEventListener("keyup",KeyUpHandler,false);
            document.addEventListener("keydown",keyDownHandlerx,false);
        document.addEventListener("keyup",KeyUpHandlerx,false);
        
/*********code for the key controls**************/
            /******code for first player***********/
        function keyDownHandler(e){
            if(e.keyCode === 39 ){
                rightPressed =true;
            }else if(e.keyCode === 37){
                leftPressed = true;
            }
        }//for key down
        
        function KeyUpHandler(e){
            if(e.keyCode === 39){
                rightPressed = false;
            } else if(e.keyCode === 37){
                leftPressed = false;
            }
        }//for key up
            if(rightPressed){
                ping1height += 7;
                
            }else if(leftPressed){
                ping1height -= 7;
            }
             /******code for first player***********/
            
            /******code for second player***********/
             function keyDownHandlerx(e){
                 //console.log(e.keyCode);
            if(e.keyCode === 65 ){
                rightPressed2 =true;
            }else if(e.keyCode === 68){
                leftPressed2 = true;
            }
        }//for key down
        
        function KeyUpHandlerx(e){
           // console.log(e.keyCode);
            if(e.keyCode === 65){
                rightPressed2 = false;
            } else if(e.keyCode === 68){
                leftPressed2 = false;
            }
        }//for key up
            if(rightPressed2){
                ping2height += 7;
                
            }else if(leftPressed2){
                ping2height -= 7;
            }
            /******code for second player***********/
/*********code for the key controls*****************/
  
/***code for stopping paddles at edges*****************/
          
            if(ping1height > 550 ){ //left
                ping1height = 550 ;
            }else if(ping1height < 0){
                ping1height = 0;
            }
            if(ping2height > 550 ){ //right
                ping2height = 550 ;
            }else if(ping2height < 0){
                ping2height = 0;
            }
/***code for stopping paddles at edges*****************/
            
            /***********moving the ball**************/
               if(ballX + dx > canvas.width - ballRadius || ballX + dx < 0) {
        dx = -dx;
         }//from up to down
         else if(ballY + dy > canvas.height-ballRadius) {
   // if(x > pi && x < paddleX + paddleWidth) {
        dy = -dy;
         /*}
         else{
             //adding Game Over
             
         } */
         }
         if(ballY + dy > canvas.height - ballRadius || ballY + dy < 0) {
         dy = -dy;
         } //from left to right
         
        ballX += dx;
         ballY += dy;
             
            
             /***********moving the ball**************/
            // requestAnimationFrame(rungame); 
        drawPing();
        drawPing2();
        drawPingball();
            collisionDetection();
        }
        setInterval(rungame,10);
     requestAnimationFrame(rungame);
    </script>
</body>

</html>